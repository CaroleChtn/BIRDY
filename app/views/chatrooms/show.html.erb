<div class="container chatroom"
  data-controller="chatroom-subscription"
  data-chatroom-subscription-chatroom-id-value="<%= @chatroom.id %>"
  data-chatroom-subscription-user-id-value="<%= current_user.id %>"
>


  <h1 style="margin-top: 100px">#<%= @chatroom.name %></h1>

  <div class="messages" data-chatroom-subscription-target="messages">
    <% @chatroom.messages.each do |message| %>
        <%= render "messages/message", message: message %>
      <% end %>
      </div>
    <%= simple_form_for [@chatroom, @message],
      html: { data: { action: "turbo:submit-end->chatroom-subscription#resetForm" }, class: "d-flex"} do |f|
    %>
      <div id="message-send-area">
        <%= f.input :content,
          label: false,
          placeholder: "Message ##{@chatroom.name}",
          wrapper_html: {class: "flex-grow-1"}
        %>
      </div>
      <div style="align-self: center;">
        <%= f.submit "Envoyer", class: "button", id: "message-send-area-button" %>
      </div>
    <% end %>
  </div>
</div>
